<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Yospace Connector Test page</title>
    <link rel="stylesheet" type="text/css" href="/local/ui.css"/>
    <script src="/local/THEOplayer.js"></script>
    <script src="/dist/yospace-connector.umd.js"></script>
    <script type="application/javascript" src="admanagement-sdk-3.4.0.min.js"></script>
</head>
<body>
<div id="THEOplayer" class="theoplayer-container video-js theoplayer-skin"></div>
<script type="text/javascript">
    const element = document.querySelector("#THEOplayer");
    const player = new THEOplayer.Player(element, {
        ui: {
            fluid: true
        },
        libraryLocation: "/local/"
    });

    async function setupYospaceConnector(player) {
        const yospace = new THEOplayerYospaceConnector.YospaceIntegration(player);
        const source = {
            sources: [
                {
                    src: 'https://csm-e-sdk-validation.bln1.yospace.com/csm/extlive/yospace02,hlssample42.m3u8?yo.br=true&yo.av=4',
                    ssai: {
                        integration: 'yospace'
                    }
                }
            ]
        }
        await yospace.setupYospaceSession(source);
    }

    setupYospaceConnector(player);
</script>
</body>
</html>
